<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<title>Upgrading from 9.1.x</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;-webkit-tap-highlight-color:transparent}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1>Upgrading from 9.1.x</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<style>
img {
  filter: drop-shadow(0px 0px 12px rgba(0, 0, 0, 0.5)) !important;
  padding: 1.5rem !important;
}

h2 {
  margin-top: 2rem !important;
}

h3 {
  margin-top: 1.5rem !important;
  margin-bottom: 0.5rem !important;
}

.hljs {
  margin-bottom: 1.5rem !important;
}

.imageblock .title {
  margin-bottom: 1.5rem !important;
}

.dlist {
  padding-top: 0
}
</style>
<div class="paragraph">
<p>This section describes how to upgrade <em>Business Services</em> projets developed with BAMOE versions 9.1.0 and 9.1.1 to the most recent 9.2.x. See the following docs if you are upgrading from a version prior to this:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="upgrading-80x-921.html">Upgrading from 8.0.x</a></p>
</li>
<li>
<p><a href="https://www.ibm.com/docs/en/ibamoe/9.1.x?topic=upgrading">Upgrading from 9.0.x</a></p>
</li>
<li>
<p><a href="upgrading-920-921.html">Upgrading from 9.2.x</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Depending on the complexity of your installation, you might want IBM&#174; Services to participate in your project. If so, contact your IBM service representative.</p>
</div>
<div class="paragraph">
<p>This guide will walk you through upgrading your:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>BAMOE development environment installation with BAMOE Maven repository, BAMOE Canvas, and BAMOE Developer Tools for VS Code</p>
</li>
<li>
<p><em>Business Service(s)</em> project(s)</p>
</li>
<li>
<p>BAMOE production environment installation with BAMOE Management Console and upgraded versions of your <em>Business Services</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you are using the 9.1.x technology preview for stateful Workflows, you will find instructions on what to do to migrate your stateful workflow projects in <a href="#migrate-tech-preview">this section</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_1_download_product_archives">Step 1: Download product archives</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Start by downloading the product archives from either <a href="https://www.ibm.com/support/fixcentral/swg/selectFixes?parent=ibm%7EWebSphere&amp;product=ibm/WebSphere/IBM+Business+Automation+Manager+Open+Editions&amp;release=8.0&amp;function=all&amp;_gl=1*eyjqut*_ga*MjAzNDU5OTI0MC4xNjYzMTE3Mjg0*_ga_FYECCCS21D*MTY5NjAwMDIzMy45Ni4xLjE2OTYwMDI5MjQuMC4wLjA">IBM Fix Central</a> which requires an active support subscription to IBM BAMOE, <a href="https://www.ibm.com/software/passportadvantage">IBM Passport Advantage</a>, or via the <a href="https://www.ibm.com/account/reg/us-en/signup?formid=urx-52220">IBM Business Automation Manager Open Editions Developer Program</a>. For more information see <a href="https://www.ibm.com/support/pages/node/7228834">BAMOE 9.2 Download Document</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_2_upgrade_your_bamoe_development_environment_installation">Step 2: Upgrade your BAMOE development environment installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you upgrade your BAMOE development environment, you must upgrade BAMOE Maven repository, BAMOE Canvas, and BAMOE Developer Tools for VS Code.</p>
</div>
<div class="sect2">
<h3 id="_upgrade_bamoe_maven_repository">Upgrade BAMOE Maven repository</h3>
<div class="paragraph">
<p>It is recommended using the <a href="https://docs.openshift.com/container-platform/4.16/applications/deployments/route-based-deployment-strategies.html#deployments-blue-green_route-based-deployment-strategies">blue-green deployment strategy</a> for Maven artifacts to be available for both your current version and BAMOE version 9.3.0.</p>
</div>
<div class="paragraph">
<p>If you are using the BAMOE Maven repository <code>.zip</code> instead of BAMOE Maven repository container images, simply extract the contents of BAMOE Maven repository <code>.zip</code> version 9.3.0 to your local Maven repository.</p>
</div>
<div class="paragraph">
<p>In case you have installed BAMOE Maven repository in a Maven Repository Manager such as Artifactory or Nexus, follow the steps in <a href="../installation/configure-maven.html">Installing → BAMOE Maven repository</a> to install the new BAMOE Maven repository version 9.3.0.</p>
</div>
</div>
<div class="sect2">
<h3 id="_upgrade_bamoe_canvas">Upgrade BAMOE Canvas</h3>
<div class="paragraph">
<p>The 9.3.0 version of BAMOE Canvas is a drop in replacement for the 9.1.x version (see <a href="../installation/installation.html">Installing → BAMOE Canvas</a>). The projects you saved to your browser before the upgrade can simply be opened after installing the new version.</p>
</div>
<div class="paragraph">
<p>If you prefer to install a parallel version using <a href="https://docs.openshift.com/container-platform/4.16/applications/deployments/route-based-deployment-strategies.html#deployments-blue-green_route-based-deployment-strategies">blue-green deployment strategies</a> you can import projects into the newly installed version (see <a href="../tools/importing-existing-projects.html">Importing existing projects</a>) as long as the DNS domains between installations are different. If the DNS domains between installations are the same, your imported projects automatically show up in the new installation when you open it in your browser.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you have customized your previous BAMOE Canvas installation, remember to apply the same Environment Variables to the new installation. The same applies for customized container images for BAMOE Canvas Dev Deployments.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_upgrade_bamoe_developer_tools_for_vs_code">Upgrade BAMOE Developer Tools for VS Code</h3>
<div class="paragraph">
<p>BAMOE Developer Tools for VS Code versions are managed by the Extension update mechanism in VS Code. You can set automatic update or manage it manually when notified. Because of version differences in the models supported by the BPMN, DMN, and Test Scenario editors it is recommended to choose when you upgrade to avoid issues when running models in services that have not been upgraded when the tools are upgraded.</p>
</div>
<div class="paragraph">
<p>See <a href="../tools/developer-tools-for-vscode.html">BAMOE Developer Tools for VS Code</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>After upgrading the new Test Scenario Editor (now compatible with DMN 1.5) will also open automatically when you first open SCESIM files in BAMOE Developer Tools for VS Code, even when the linked Decision is on an older version (e.g., DMN 1.2).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_3_upgrade_your_business_services_projects">Step 3: Upgrade your <em>Business Service(s)</em> project(s)</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Business Service(s)</em> project(s) can be upgraded in two ways, by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Updating an existing <em>Business Service</em> project with its artifacts by changing the Maven dependencies.</p>
</li>
<li>
<p>Creating a <em>Business Service</em> project from scratch and moving your existing assets to it.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following tools are required to upgrade your <em>Business Service</em> projects to BAMOE version 9.2.0:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://openjdk.org">JDK 17</a> is installed.</p>
</li>
<li>
<p><a href="https://maven.apache.org">Apache Maven 3.9.6</a> is installed.</p>
</li>
<li>
<p><a href="https://code.visualstudio.com/download">Visual Studio Code IDE</a> latest version installed.</p>
</li>
<li>
<p>Upgraded BAMOE development environment installation with BAMOE Maven repository @ 9.3.0-ibm-0005</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-3a">Step 3a: Upgrade <em>Business Service(s)</em> project(s) on BAMOE version 9.1.x</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once your BAMOE development environment installation is upgraded, it is straightforward to upgrade your <em>Business Service(s)</em> project(s) on BAMOE 9.1.x to BAMOE version 9.3.0.</p>
</div>
<div class="paragraph">
<p>The project structure is not changed, updates only need to be made to the dependencies versions, some dependency names, and files.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you come across some difficulties when trying to upgrade your existing <em>Business Service</em> projects we recommend creating a new project following <a href="#step-3b">Step 3b: Upgrade Business Service projects on BAMOE versions 9.0.x or 9.1.x</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Upgrade the Quarkus version in the project POM file to the currently supported version <code>3.15 (LTS)</code>:</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Upgrade the BAMOE BOM in the project POM file to 9.2.0-ibm-0004:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;com.ibm.bamoe&lt;/groupId&gt;
  &lt;artifactId&gt;bamoe-bom&lt;/artifactId&gt;
  &lt;version&gt;9.3.0-ibm-0005&lt;/version&gt;
  &lt;type&gt;pom&lt;/type&gt;
  &lt;scope&gt;import&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Update the <code>application.properties</code> file.</p>
<div class="paragraph">
<p>BAMOE version 9.3.0 does not fully support Quarkus Dev Services and hence it is required to disable this feature by adding the following line to the <code>src/main/resources/application.properties</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-diff" data-lang="diff"> + quarkus.devservices.enabled=false</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Refer to <a href="https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0">Quarkus v3 migration guide</a> for any other change related to Quarkus.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-3b">Step 3b: Creating a <em>Business Service</em> project on BAMOE version 9.3.0 from scratch</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you have experienced some difficulties when trying to upgrade your project you can create a new <em>Business Service</em> project from scratch and import your existing business automation assets (Workflows, Decisions, Rules, and Decision Tables) to the new project.</p>
</div>
<div class="paragraph">
<p>For more information, see <a href="../getting-started/project-setup.html">Getting started → Initial Business Service project setup</a> to create a new <em>Business Service</em> project on BAMOE version 9.3.0.</p>
</div>
<div class="paragraph">
<p>The most significant folder is <code>src/main/resources</code>, which is where new or upgraded business automation asset files must be stored.</p>
</div>
<div class="paragraph">
<p>Examples of supported business automation assets are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Decision Model &amp; Notation (DMN) decisions (<code>.dmn</code>)</p>
</li>
<li>
<p>Drools Rule Language (DRL) rules (<code>.drl</code>)</p>
</li>
<li>
<p>Business Process Model &amp; Notation (BPMN) workflows (<code>.bpmn</code>)</p>
</li>
<li>
<p>Spreadsheet Decision Table files (<code>.xls</code> or <code>.xlsx</code>)</p>
</li>
<li>
<p>Standard Properties files (<code>.properties</code>)</p>
</li>
<li>
<p>Test Scenario files (<code>.scesim</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Copy all your assets from your <em>Business Service</em> project on BAMOE version 9.1.x to the respective folders on the new project on BAMOE version 9.3.0. If you have custom Java code or any other type of file in your <em>Business Service</em> project, move them to the same location as you had before, following <a href="https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html">Maven&#8217;s standard  directory layout</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The proper folder for Test Scenario files is <code>src/test/resources</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_4_verify_the_upgrade_of_your_business_services_projects">Step 4: Verify the upgrade of your <em>Business Service(s)</em> project(s)</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To verify that your upgrade is successful, build the project one more time using Maven&#8217;s standard command or any other customized build command you might have in your project.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">mvn clean package</code></pre>
</div>
</div>
<div class="paragraph">
<p>You might get Maven streaming text once again, and at the end of it you must have:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  8.023 s
[INFO] Finished at: 2024-06-11T17:09:00-03:00
[INFO] ------------------------------------------------------------------------</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now you can start using your <em>Business Service</em> project on BAMOE version 9.3.0.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_5_upgrade_your_bamoe_production_environment_installation">Step 5: Upgrade your BAMOE production environment installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After upgrading your <em>Business Services</em> source code (Steps 3a or 3b), you need to upgrade BAMOE Management Console before deploying a new version of the upgraded <em>Business Services</em>.</p>
</div>
<div class="paragraph">
<p>It is recommended that you use the <a href="https://docs.openshift.com/container-platform/4.16/applications/deployments/route-based-deployment-strategies.html#deployments-blue-green_route-based-deployment-strategies">blue-green deployment strategy</a> for upgrading BAMOE Management Console so that you still have a reliable way of managing live <em>Business Services</em> that might not have been upgraded to BAMOE version 9.3.0 yet. Once all your <em>Business Services</em> are running BAMOE version 9.3.0, you can safely remove your previous BAMOE Management Console installation.</p>
</div>
<div class="paragraph">
<p>If you are getting started with stateful Workflows, follow <a href="../installation/management-console.html">Installing → BAMOE Management Console</a> for information on installing BAMOE Management Console for the first time in your production environment.</p>
</div>
<div class="paragraph">
<p>Once you have a new installation for BAMOE Management Console version 9.3.0, you can follow the standard guidance on how to deploy a new version of your <em>Business Services</em> (see <a href="../runtime-services-modeling/services-build.html">Building Business Services executables</a> and <a href="../runtime-services-modeling/services-deployment.html">Deploying Business Services</a>).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="migrate-tech-preview">Upgrading from BAMOE version 9.1.1 technology preview for stateful Workflows</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the 9.1.1 technology preview the Process API was used to call your stateful process. In this version a new User Tasks API is built on top of a dedicated User Tasks subsystem. As a direct impact of that there are three key changes to be taken into account:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The new User Tasks API does not require global parameters related to the whole process (such as <code>process ID</code>, <code>process instance ID</code> and <code>task name</code>). The <code>task ID</code> is the key and most of the time it is the only actor to operate with the new API.</p>
<div class="paragraph">
<p>In version 9.1.1, the Process API entrypoints are based on the following pattern:</p>
</div>
<div class="paragraph">
<p><code><a href="http://&lt;host:port&gt;/&lt;process-id&gt;/&lt;process-instance&gt;/&lt;task-name&gt;/&lt;task-instance-id&gt" class="bare">http://&lt;host:port&gt;/&lt;process-id&gt;/&lt;process-instance&gt;/&lt;task-name&gt;/&lt;task-instance-id&gt</a>;</code></p>
</div>
<div class="paragraph">
<p>In version 9.3.0 the User Task API entrypoints are based on the following pattern:</p>
</div>
<div class="paragraph">
<p><code><a href="http://&lt;host:port&gt;/&lt;usertasks&gt;/&lt;instance&gt;/&lt;task-instance-id&gt" class="bare">http://&lt;host:port&gt;/&lt;usertasks&gt;/&lt;instance&gt;/&lt;task-instance-id&gt</a>;</code></p>
</div>
</li>
<li>
<p>The Task ID used in the User Tasks is not the same ID required in the Process API. The reason for this behavior is that the new API relies on a new subsystem. The subsystem base has its own IDs, that are not recognized by the Process API. This is an important point to understand before you start upgrading to the new API.</p>
<div class="paragraph">
<p>For example the <code>&lt;task-instance-id&gt;</code> referenced in the Process API call:</p>
</div>
<div class="paragraph">
<p><code><a href="http://&lt;host:port&gt;/&lt;process-id&gt;/&lt;process-instance&gt;/&lt;task-name&gt;/&lt;task-instance-id&gt" class="bare">http://&lt;host:port&gt;/&lt;process-id&gt;/&lt;process-instance&gt;/&lt;task-name&gt;/&lt;task-instance-id&gt</a>;</code></p>
</div>
<div class="paragraph">
<p>and</p>
</div>
<div class="paragraph">
<p><code><a href="http://&lt;host:port&gt;/usertasks/instance/&lt;task-instance-id&gt" class="bare">http://&lt;host:port&gt;/usertasks/instance/&lt;task-instance-id&gt</a>;</code></p>
</div>
<div class="paragraph">
<p>You must upgrade all entry points in your application to use the User Task API layers when operating with User Tasks.</p>
</div>
</li>
<li>
<p>The Returned JSON object contains more detailed data. You will therefore need to adapt how the entrypoint data is consumed by your application.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following sections show how the API calls changed based
on the most important use cases:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><strong>Example 1 - Show Tasks assigned to a user / groups</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Process API</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">curl -X GET \</p>
<p class="tableblock">'http://localhost:8080/{processId}/{uuid}/tasks?user=manager&amp;group=managers'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>User Task API</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>curl -X GET \</p>
</div>
<div class="paragraph">
<p>'http://localhost:8080/usertasks/instance?group=managers&amp;user=manager'</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><strong>Example 2 - Show a precise Task assigned to a user / groups</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Process API</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>curl -X GET \</p>
</div>
<div class="paragraph">
<p>'http://localhost:8080<em>/{</em>processId<em>}/{</em>processInstance<em>}/</em>{taskName}/{taskId}?user=manager'</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>New API</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>curl -X GET \</p>
</div>
<div class="paragraph">
<p>'http://localhost:8080/usertasks/instance/{taskId}?group=managers&amp;user=manager'</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The JSON returned by the User Task API to represent a Task is significantly different from the JSON returned by the Process API.</p>
</div>
<div class="paragraph">
<p>Here, an example of the two returned objects for both endpoints.</p>
</div>
<div class="paragraph">
<p>The new User Tasks API returns the following information:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "id": "e447c247-abc2-4ed4-a7ab-ef4ee2fe4a71",
    "userTaskId": "_8B62D3CA-5D03-4B2B-832B-126469288BB4", // UserTask ID Node
    "status": {
      "terminate": null,
      "name": "Reserved" //phase
    },
    "taskName": "firstLineApproval",
    "taskDescription": null,
    "taskPriority": null,
    "potentialUsers": [
      "manager"
    ],
    "potentialGroups": [
      "managers"
    ],
    "adminUsers": [],
    "adminGroups": [],
    "excludedUsers": [],
    "externalReferenceId": "c7f40ec0-0272-4e04-9f0b-91ffe78d2590",
    "actualOwner": "manager",
    "inputs": {
      "traveller": {
        "firstName": "John",
        "lastName": "Doe",
        "email": "jon.doe@example.com",
        "nationality": "American",
        "address": {
          "street": "main street",
          "city": "Boston",
          "zipCode": "10005",
          "country": "US"
        }
      }
    },
    "outputs": {},
    "metadata": {
      "ProcessType": "BPMN",
      "ParentProcessInstanceId": null,
      "ProcessVersion": "1.0",
      "RootProcessInstanceId": null,
      "RootProcessId": null,
      "ProcessId": "approvals",
      "ProcessInstanceId": "e7822e65-abf3-4356-9cf9-15bde2c43641",
      "ProcessInstanceState": 1
    }
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>While the Process API returns the following task information:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">[
  {
    "id": "c7f40ec0-0272-4e04-9f0b-91ffe78d2590",
    "name": "firstLineApproval",
    "state": 1, // termination state
    "phase": "activate",
    "phaseStatus": "Activated",
    "parameters": {
      "traveller": {
        "firstName": "John",
        "lastName": "Doe",
        "email": "jon.doe@example.com",
        "nationality": "American",
        "address": {
          "street": "main street",
          "city": "Boston",
          "zipCode": "10005",
          "country": "US"
        }
      }
    },
    "results": {
      "approved": null
    }
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The main differences are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The User Tasks IDs will not be the same.</p>
<div class="paragraph">
<p>The assigned ID for the Task in the new User Tasks API
(e447c247-abc2-4ed4-a7ab-ef4ee2fe4a71) is scoped inside the User Tasks
subsystem, and can only be used in that subsystem. It is the ID to be used as taskID parameter in all the
entrypoints defined in the new User Tasks API. The rest of the engine is
out of scope. Using this task ID in a Process API entrypoint
will lead to an error.</p>
</div>
</li>
<li>
<p>The <code>externalReferenceId</code> element represents the Work Item ID, which is how the Process API identifies a User Task at the global level. The value is the same as the Task ID if you use Process API.</p>
</li>
<li>
<p>New data related to the assigned permissions for the Tasks
has been added, such as the actual owner, potential users and groups and excluded users</p>
</li>
<li>
<p>The <code>parameters</code> object present in the old API has become <code>inputs</code> and <code>outputs</code>. These represents a Map of String, Objects entries that you can set
as the User Task input or output. You can modify this list adding more entries with a specific entrypoint.</p>
</li>
<li>
<p>The new API Task object now contains a Metadata object. This contains relevant properties that describes the BPMN asset</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>With the dedicated API for User Tasks, it is now possible to directly put new Input and Output data for a given User Task, using the following entrypoints:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><strong>Example 3 – Add Inputs data</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Process API</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not possible to modify inputs in the previous API
version.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>New API</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>curl -X PUT \</p>
</div>
<div class="paragraph">
<p>'http://localhost:8080/usertasks/instance/{taskId}/inputs?group=managers&amp;user=manager'\</p>
</div>
<div class="paragraph">
<p>-H 'accept: application/json' \</p>
</div>
<div class="paragraph">
<p>-H 'Content-Type: application/json' \</p>
</div>
<div class="paragraph">
<p>-d '{</p>
</div>
<div class="paragraph">
<p>"variable": "value"</p>
</div>
<div class="paragraph">
<p>}'</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><strong>Example 4 - Add Output data</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Process API</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not possible to pass Output data to a User Task when sending a termination (eg. completion) phase update call.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>New API</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>curl -X PUT \</p>
</div>
<div class="paragraph">
<p>'http://localhost:8080/usertasks/instance/{taskId}/outputs?group=managers&amp;user=manager'
\</p>
</div>
<div class="paragraph">
<p>-H 'accept: application/json' \</p>
</div>
<div class="paragraph">
<p>-H 'Content-Type: application/json' \</p>
</div>
<div class="paragraph">
<p>-d '{</p>
</div>
<div class="paragraph">
<p>"variable": "value"</p>
</div>
<div class="paragraph">
<p>}'</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Here are some examples on how to manage Comments and Attachments</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><strong>Example 5  Add Comments</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Process API</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not possibile to add comments</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>New API</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>curl -X POST \</p>
</div>
<div class="paragraph">
<p>'http://localhost:8080/usertasks/instance/{taskId}/comments?
group=managers&amp;user=manager' \</p>
</div>
<div class="paragraph">
<p>-H 'accept: application/json' \</p>
</div>
<div class="paragraph">
<p>-H 'Content-Type: application/json' \</p>
</div>
<div class="paragraph">
<p>-d '{</p>
</div>
<div class="paragraph">
<p>"comment": "test"</p>
</div>
<div class="paragraph">
<p>}'</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><strong>Example 6 - Add Attachments</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Process API</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not possibile to add attachments</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>New API</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>curl -X POST \</p>
</div>
<div class="paragraph">
<p>'http://localhost:8080/usertasks/instance/{taskId}/attachments?group=managers&amp;user=manager'
\</p>
</div>
<div class="paragraph">
<p>-H 'accept: application/json' \</p>
</div>
<div class="paragraph">
<p>-H 'Content-Type: application/json' \</p>
</div>
<div class="paragraph">
<p>-d '{</p>
</div>
<div class="paragraph">
<p>"uri": "http://www.bamoe.com",
"name": "bamoe"</p>
</div>
<div class="paragraph">
<p>}'</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Similar operations (GET, DELETE) can be performed against Comments and
Attachments. The precise endpoint definitions are shown above.</p>
</div>
<div class="paragraph">
<p>The following examples show how to apply a transition to a given User Task.
The transition scope is to advance a User Task status, moving it from one status to another (transitionID), where the status can be: "activate", "claim", "release", "complete", "skip", or “fail”. The following example shows how to complete a User Task.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><strong>Example 7 - Approve User Task</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Process API</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>curl -X POST \
'http://localhost:8080/{processId}/{uuid}/{taskName}/{taskId}?user=admin&amp;group=managers'
\</p>
</div>
<div class="paragraph">
<p>-H 'accept: application/json' \</p>
</div>
<div class="paragraph">
<p>-H 'Content-Type: application/json' \</p>
</div>
<div class="paragraph">
<p>-d '{</p>
</div>
<div class="paragraph">
<p>"approved": "true"</p>
</div>
<div class="paragraph">
<p>}'</p>
</div>
<div class="paragraph">
<p>OR</p>
</div>
<div class="paragraph">
<p>curl -X POST \
'http://localhost:8080/{processId}/{uuid}/{taskName}/{taskId}/phases/{phaseId}?user=admin&amp;group=managers'
\</p>
</div>
<div class="paragraph">
<p>-H 'accept: application/json' \</p>
</div>
<div class="paragraph">
<p>-H 'Content-Type: application/json' \</p>
</div>
<div class="paragraph">
<p>-d '{</p>
</div>
<div class="paragraph">
<p>"approved": "true"</p>
</div>
<div class="paragraph">
<p>}'</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>New API</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>curl -X POST \</p>
</div>
<div class="paragraph">
<p>'http://localhost:8080/usertasks/instance/{taskId}/transition?group=managers&amp;user=manager'
\</p>
</div>
<div class="paragraph">
<p>-H 'accept: application/json' \</p>
</div>
<div class="paragraph">
<p>-H 'Content-Type: application/json' \</p>
</div>
<div class="paragraph">
<p>-d '{</p>
</div>
<div class="paragraph">
<p>"transitionId": "complete"</p>
</div>
<div class="paragraph">
<p>}'</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>With the Process API there are two ways to change the
User Task status. With the first entrypoint, the User Tasks change its
status to complete, without specifying the phaseId. The second
entrypoint gives the ability to pass a specific phaseId different than
“complete”. It is possible to pass output values in the same call (E.g.,
“approved” = true)</p>
</div>
<div class="paragraph">
<p>The new User Task API requires that the transitionID is defined in the
JSON payload, as in the example below. It is no longer possible to pass
output values as was done in the Process API, so if you need to put some output
data, you need to call the Add Output entypoint described later.</p>
</div>
<div class="paragraph">
<p>A new feature that the new User Tasks API introduced is to provide an
endpoint that returns all reachable statuses that a given User Task can
reach from the current status.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><strong>Example 8 – Retrieve reachable status for a given User Task</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Process API</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not present</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>New API</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>curl -X GET \</p>
</div>
<div class="paragraph">
<p>'http://localhost:8080/usertasks/instance/{taskId}/transition?
group=managers&amp;user=manager' \</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</body>
</html>