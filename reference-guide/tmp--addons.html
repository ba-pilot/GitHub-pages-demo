<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<title>Add-ons</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;-webkit-tap-highlight-color:transparent}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="_add_ons">Add-ons</h2>
<div class="sectionbody">
<style>
img {
  filter: drop-shadow(0px 0px 12px rgba(0, 0, 0, 0.5)) !important;
  padding: 1.5rem !important;
}

h2 {
  margin-top: 2rem !important;
}

h3 {
  margin-top: 1.5rem !important;
  margin-bottom: 0.5rem !important;
}

.hljs {
  margin-bottom: 1.5rem !important;
}

.imageblock .title {
  margin-bottom: 1.5rem !important;
}

.dlist {
  padding-top: 0
}
</style>
<div class="paragraph">
<p>You can extend IBM BAMOE core capabilities by using add-ons. The add-on modules extend monitoring, messaging, and other features for <em>Business Services</em>.</p>
</div>
<div class="paragraph">
<p>The following table list all the supported add-ons in IBM BAMOE:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Add-ons for Quarkus</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Artifact Id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Messaging</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">kie-addons-quarkus-messaging</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Events Decisions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">kie-addons-quarkus-events-decisions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Events Process</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">kie-addons-quarkus-events-process</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Knative Eventing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">kie-addons-quarkus-knative-eventing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mail</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jbpm-addons-quarkus-mail</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prometheus Monitoring</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">kie-addons-quarkus-monitoring-prometheus</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Source Files</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">kie-addons-quarkus-source-files</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_messaging_add_on">Messaging add-on</h3>
<div class="paragraph">
<p>IBM BAMOE provides a messaging add-on, enabling a process to register an event listener. The messaging add-on uses events in the <em>Business Service</em> projects.</p>
</div>
<div class="paragraph">
<p>To configure messaging capabilities for your <em>Business Services</em>, you must add the messaging add-on as a dependency in the <code>pom.xml</code> file of your project:</p>
</div>
<div class="listingblock">
<div class="title">Project dependency to enable messaging operations in Quarkus projects</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-addons-quarkus-messaging&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For Quarkus, the IBM BAMOE process event add-on implementation is based on <a href="https://smallrye.io/smallrye-reactive-messaging/smallrye-reactive-messaging/2/connectors/connectors.html">Smallrye Messaging</a> library, which provides a set of connectors for event brokers, such as JMS, AMQP, and Kafka. Therefore, the IBM BAMOE process event add-on is not specifically combined with any event broker, but also requires additional configuration to use a suitable Smallrye connector.</p>
</div>
<div class="paragraph">
<p>For example, to use Kafka as an event broker in Quarkus, you must add the following dependency in the <code>pom.xml</code> file of your <em>Business Service</em> project:</p>
</div>
<div class="listingblock">
<div class="title">Project dependency to enable event broker in Quarkus</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
  &lt;artifactId&gt;quarkus-smallrye-reactive-messaging-kafka&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Smallrye uses an abstraction named <code>channel</code>. The implementation of channels depends on the underlying event broker. For example, when using Kafka, every channel is mapped to a topic.</p>
</div>
<div class="paragraph">
<p>Channels are configured by using properties. The pattern for these properties is <code>mp.messaging.[incoming|outgoing].&lt;channel name&gt;.&lt;property_name&gt;</code>.</p>
</div>
<div class="paragraph">
<p>IBM BAMOE allows different channel mapping strategies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Define one default incoming channel to receive all the incoming messages and one default outgoing channel to store all the published messages.</p>
</li>
<li>
<p>Define a channel for each message name so that every message type has a dedicated channel.</p>
</li>
<li>
<p>Define a channel for certain message names and let the not mapped message names to use the default incoming or outgoing channel.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>IBM BAMOE first searches for channel name equals to message name in the properties. If found, it uses that channel for that message name. If not, it searches for default channel definition. If also not existing, then an error will be reported.</p>
</div>
<div class="paragraph">
<p>The name for the default incoming channel is <code>kogito_incoming_stream</code> and for the default outgoing channel is <code>kogito_outgoing_stream</code>.</p>
</div>
<div class="paragraph">
<p>You can change the default incoming and outgoing topic name as follows:</p>
</div>
<div class="listingblock">
<div class="title">Quarkus</div>
<div class="content">
<pre class="highlight"><code>kogito.addon.messaging.incoming.defaultName=&lt;default channel name&gt;
kogito.addon.messaging.outgoing.defaultName=&lt;default channel name&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Optionally, for Kafka connector, you can define the Kafka topic to be used for that channel using the following form:</p>
</div>
<div class="paragraph">
<p><code>mp.messaging.[incoming|outgoing].&lt;channel name&gt;.topic = &lt;topic name&gt;</code></p>
</div>
<div class="paragraph">
<p>If the topic property is not found, then the topic name is considered to be the same as Kafka name.
Note that you can map different channels to the same topic.</p>
</div>
<div class="sect3">
<h4 id="_providing_a_key_for_a_kafka_record">Providing a key for a Kafka record</h4>
<div class="paragraph">
<p>To specify the key to your Kafka record, you can use a custom <a href="https://github.com/apache/incubator-kie-kogito-runtimes/blob/main/quarkus/addons/common/reactive-messaging/src/main/java/org/kie/kogito/addon/quarkus/common/reactive/messaging/MessageDecorator.java">MessageDecorator</a> implementation.</p>
</div>
<div class="paragraph">
<p>For an example, see <a href="https://github.com/apache/incubator-kie-kogito-examples/blob/main/kogito-quarkus-examples/process-kafka-avro-multi-quarkus/src/main/java/org/acme/travel/StringKeyDecorator.java">StringKeyDecorator.java</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_customizing_message_format">Customizing message format</h4>
<div class="paragraph">
<p>By default, IBM BAMOE uses Cloud event JSON format for messaging. However, you can change the default format by providing your own <a href="https://github.com/apache/incubator-kie-kogito-runtimes/blob/main/api/kogito-events-api/src/main/java/org/kie/kogito/event/EventMarshaller.java">event marshaler</a> implementation.
For an example, see <a href="https://github.com/apache/incubator-kie-kogito-runtimes/blob/main/addons/common/marshallers/avro/src/main/java/org/kie/kogito/event/avro/AvroEventMarshaller.java">AvroEventMarshaller.java example</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_dmn_event_driven_add_on">DMN Event-driven add-on</h3>
<div class="paragraph">
<div class="title">Quarkus</div>
<p>To use the DMN event-driven add-on, add the following code to the <code>pom.xml</code> file of your project:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-addons-quarkus-events-decisions&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_knative_eventing_add_on">Knative eventing add-on</h3>
<div class="paragraph">
<p>The Knative Eventing add-on is used in the <em>Business Service</em> project for messaging. The <a href="https://github.com/apache/incubator-kie-kogito-runtimes/tree/main/addons/common/knative/eventing">IBM BAMOE Knative Eventing</a> add-on enables your project to connect to a <a href="https://knative.dev/docs/developer/eventing/sinks/">sink</a> or make it a <a href="https://github.com/knative-sandbox/eventing-kogito#kogito-source">KogitoSource</a>.</p>
</div>
<div class="paragraph">
<p>The add-on processes the <a href="https://knative.dev/development/developer/eventing/sources/sinkbinding/"><code>K_SINK</code></a> and <a href="https://knative.dev/development/developer/eventing/sources/sinkbinding/reference/#cloudevent-overrides"><code>K_CE_OVERRIDES</code></a> environment variables injected by Knative Eventing controllers (<code>SinkBinding</code> or <code>KogitoSource</code>).</p>
</div>
<div class="paragraph">
<p>The service requires the <a href="https://github.com/apache/incubator-kie-kogito-runtimes/tree/main/addons/common/messaging">IBM BAMOE Messaging</a> and <a href="https://quarkus.ioversion/3.15/guides/reactive-messaging-http.html">Quarkus HTTP connector</a> libraries to wire the <em>Business Service</em> with a given sink. The IBM BAMOE Messaging and Quarkus HTTP connector perform as dependencies for the Knative Eventing add-on.</p>
</div>
<div class="paragraph">
<p>To use the Knative Eventing add-on, add the following code to the <code>pom.xml</code> file of your project:</p>
</div>
<div class="listingblock">
<div class="title">Quarkus</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-addons-quarkus-knative-eventing&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_auto_generated_knative_resources">Auto-generated Knative resources</h4>
<div class="paragraph">
<p>The Knative Eventing add-on can generate Knative Eventing resources by inspecting your BPMN or Serverless Workflow files for event definitions.</p>
</div>
<div class="paragraph">
<p>To enable the auto-generation of Knative resources, add the following dependency to your project:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
  &lt;artifactId&gt;quarkus-kubernetes&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After adding the previous dependency, the add-on generates Knative Eventing resources to handle the events that are produced or consumed by your BPMN or Serverless Workflow resources on Knative Eventing platform.</p>
</div>
<div class="paragraph">
<p>For each consumed event, the add-on generates a <a href="https://knative.dev/docs/eventing/broker/triggers/">Knative Eventing Trigger</a> as shown in the following example:</p>
</div>
<div class="listingblock">
<div class="title">Example Knative <code>Trigger</code> custom resource for a <em>Business Service</em> with <code>Broker</code> binding</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: eventing.knative.dev/v1
kind: Trigger
metadata:
  name: travellers-trigger-process-knative-quickstart-quarkus
spec:
  broker: default
  filter:
    attributes:
      type: travellers
  subscriber:
    ref:
      apiVersion: serving.knative.dev/v1
      kind: Service
      name: process-knative-quickstart-quarkus</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>Trigger</code> resource requires a subscriber to receive the events that are routed by the <code>Broker</code>. In this case, the current <em>Business Service</em> work as a subscriber, and the Knative Eventing add-on uses the <em>Business Service</em> deployment, which is configured by Quarkus Kubernetes.</p>
</div>
<div class="paragraph">
<p>If a <code>Broker</code> is not specified, the Knative Eventing add-on generates a default <code>InMemoryChannel</code> as follows:</p>
</div>
<div class="listingblock">
<div class="title">Example <code>Broker</code> custom resource for Knative Eventing with default <code>InMemoryChannel</code></div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: eventing.knative.dev/v1
kind: Broker
metadata:
  name: default</code></pre>
</div>
</div>
<div class="paragraph">
<p>If a <code>Broker</code> is configured in the target namespace, you can specify the <code>Broker</code> using the following property:
<code>org.kie.kogito.addons.knative.eventing.broker=myKafkaBroker</code>.</p>
</div>
<div class="paragraph">
<p>If the <em>Business Service</em> contains any produced event definitions, the Knative Eventing add-on generates a <a href="https://knative.dev/development/eventing/custom-event-source/sinkbinding/">Knative Eventing <code>SinkBinding</code></a>, or a <a href="https://github.com/knative-sandbox/eventing-kogito#kogito-source">Knative Eventing <code>KogitoSource</code></a>. By default, the <code>SinkBinding</code> is generated, but you can change this behavior by setting <code>org.kie.kogito.addons.knative.eventing.generate-kogito-source</code> property to <code>true</code>.</p>
</div>
<div class="listingblock">
<div class="title">Example <code>SinkBinding</code> custom resource for Knative Eventing</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: sources.knative.dev/v1
kind: SinkBinding
metadata:
  name: sb-process-knative-quickstart-quarkus
spec:
  sink:
    ref:
      apiVersion: eventing.knative.dev/v1
      kind: Broker
      name: default
  subject:
    apiVersion: serving.knative.dev/v1
    kind: Service
    name: process-knative-quickstart-quarkus</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example <code>KogitoSource</code> custom resource for Knative Eventing</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: kogito.knative.dev/v1alpha1
kind: KogitoSource
metadata:
  name: process-knative-quickstart-quarkus
spec:
  sink:
    ref:
      apiVersion: eventing.knative.dev/v1
      kind: Broker
      name: default
      namespace: ""
  subject:
    apiVersion: serving.knative.dev/v1
    kind: Service
    name: process-knative-quickstart-quarkus</code></pre>
</div>
</div>
<div class="paragraph">
<p>The target deployment defined in the Quarkus Kubernetes plugin work as the subject for <code>SinkBinding</code> and <code>KogitoSource</code>. You can configure the <code>sink</code> using the application properties. By default, the generated <code>Broker</code> is defined as the <code>sink</code>.</p>
</div>
<div class="paragraph">
<p>The following table lists all the available properties for the Knative Eventing add-on:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Knative Eventing Add-on  properties</caption>
<colgroup>
<col style="width: 55.5555%;">
<col style="width: 22.2222%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.kie.kogito.addons.knative.eventing.sink.namespace</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property for set sink namespace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>default</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.kie.kogito.addons.knative.eventing.sink.name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property to set sink name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>my-sink</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.kie.kogito.addons.knative.eventing.sink.api-version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property to set Kubernetes API version of the sink</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>eventing.knative.dev/v1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.kie.kogito.addons.knative.eventing.sink.kind</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property to set Kubernetes resource kind of the sink</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Broker</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.kie.kogito.addons.knative.eventing.broker</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property to set name of the pre-defined Broker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>myKafkaBroker</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.kie.kogito.addons.knative.eventing.generate-kogito-source</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property to enable the generation of <code>KogitoSource</code> instead of <code>SinkBinding</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.kie.kogito.addons.knative.eventing.auto-generate-broker</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property to enable the generation of default in-memory Broker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For more information about the Knative Eventing add-on, see the following example applications:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/apache/incubator-kie-kogito-examples/tree/main/serverless-workflow-examples/serverless-workflow-order-processing">Serverless Workflow Order Processing</a></p>
</li>
<li>
<p><a href="https://github.com/apache/incubator-kie-kogito-examples/tree/main/kogito-quarkus-examples/process-knative-quickstart-quarkus">Process Knative Eventing</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mail_add_on">Mail add-on</h3>
<div class="paragraph">
<p>The mail add-on is used to send emails in a process project. To use the mail add-on, add the following code to the <code>pom.xml</code> file of your project:</p>
</div>
<div class="listingblock">
<div class="title">Quarkus</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-addons-quarkus-mail&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_events_add_on">Events add-on</h3>
<div class="paragraph">
<p>The Events add-on provides a default implementation in supported target platforms for EventEmitter and EventReceiver interfaces. You can use EventEmitter and EventReceiver interfaces to enable messaging by process, serverless workflow events, and event decision handling.</p>
</div>
<div class="sect3">
<h4 id="_implementing_message_payload_decorator">Implementing message payload decorator</h4>
<div class="paragraph">
<p>Any dependant add-on can implement the <a href="https://github.com/apache/incubator-kie-kogito-runtimes/blob/main/addons/common/messaging/src/main/java/org/kie/kogito/addon/cloudevents/message/MessagePayloadDecorator.java">MessagePayloadDecorator</a>.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have installed the Events add-on in IBM BAMOE.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a file named <code>META-INF/services/org.kie.kogito.add-on.cloudevents.message.MessagePayloadDecorator</code> in your class path.</p>
</li>
<li>
<p>Open the file.</p>
</li>
<li>
<p>Enter the full name of your implementation class in the file.</p>
</li>
<li>
<p>Save the file.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The <code>MessagePayloadDecoratorProvider</code> loads the file upon application startup and adds the file to the decoration chain. When IBM BAMOE calls the <a href="https://github.com/apache/incubator-kie-kogito-runtimes/blob/main/addons/common/messaging/src/main/java/org/kie/kogito/addon/cloudevents/message/MessagePayloadDecoratorProvider.java">MessagePayloadDecoratorProvider#decorate</a>, your implementation is part of the decoration algorithm.</p>
</div>
<div class="paragraph">
<p>To use the events add-on, add the following code to the <code>pom.xml</code> file of your project:</p>
</div>
<div class="listingblock">
<div class="title">Events Process add-on for Quarkus</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-addons-quarkus-events-process&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Events decisions add-on for Quarkus</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-addons-events-decisions&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_monitoring_add_on">Monitoring add-on</h3>
<div class="paragraph">
<p>The monitoring add-on provides monitoring capabilities in the <em>Business Service</em> project.</p>
</div>
<div class="paragraph">
<p>To use the monitoring add-on, add the following code to the <code>pom.xml</code> file of your project:</p>
</div>
<div class="listingblock">
<div class="title">Quarkus dependency for Prometheus</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-addons-quarkus-monitoring-prometheus&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_process_event_add_on">Process event add-on</h3>
<div class="paragraph">
<p>IBM BAMOE provides a process event add-on, which you can use to send processes, tasks, and variable events to an external event listener. In this case, the processes, tasks, and variable events are generated as a result of the execution of an operation, which modifies a process state; such events are known as runtime events.</p>
</div>
<div class="paragraph">
<p>In IBM BAMOE, every modifying operation is executed within an abstraction called a unit of work. Examples of such operations include creating a process instance, transitioning a task, and modifying a variable. A runtime event is published when a unit of work is completed.</p>
</div>
<div class="paragraph">
<p>You can use the IBM BAMOE process event add-on to build a historical representation of all process instance executions. Also, you can use this add-on with process REST API to build a custom graphical user interface to handle the user tasks.</p>
</div>
<div class="paragraph">
<p>By default, the event format follows the <a href="https://cloudevents.io/">CloudEvent</a> specification, sending information using the data field.
The data field contains a JSON of one of the following types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/apache/incubator-kie-kogito-runtimes/blob/main/api/kogito-events-api/src/main/java/org/kie/kogito/event/process/ProcessInstanceEventMetadata.java">ProcessInstanceEvent</a>: This event is published when a process instance is created, modified, or completed.</p>
</li>
<li>
<p><a href="https://github.com/apache/incubator-kie-kogito-runtimes/blob/main/api/kogito-events-api/src/main/java/org/kie/kogito/event/process/ProcessInstanceVariableEventBody.java">VariableInstanceEvent</a>: This event is published when a variable is created, modified, or removed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To configure process event capabilities for your <em>Business Services</em>, you can add the process event add-on as a dependency in the <code>pom.xml</code> file of your <em>Business Service</em> project:</p>
</div>
<div class="listingblock">
<div class="title">Project dependency to enable process event operations in Quarkus projects</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-addons-quarkus-events-process&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For Quarkus, the IBM BAMOE process event add-on implementation is based on <a href="https://smallrye.io/smallrye-reactive-messaging/smallrye-reactive-messaging/2/connectors/connectors.html">Smallrye Messaging</a> library, which provides a set of connectors for event brokers, such as JMS, AMQP, and Kafka. Therefore, the IBM BAMOE process event add-on is not specifically combined with any event broker in Quarkus, but requires additional configuration to use a suitable Smallrye connector.</p>
</div>
<div class="paragraph">
<p>For example, to use Kafka as an event broker in Quarkus, you can add the following dependency in the <code>pom.xml</code> file of your <em>Business Service</em> project:</p>
</div>
<div class="listingblock">
<div class="title">Project dependency to enable Kafka event broker in Quarkus</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"> &lt;dependency&gt;
  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
  &lt;artifactId&gt;quarkus-smallrye-reactive-messaging-kafka&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Smallrye defines an abstraction named channel to enable multi-broker support. For every channel that you define in your <em>Business Service</em> project, you can specify the connector to use for that channel using the following form:</p>
</div>
<div class="paragraph">
<p><code>mp.messaging.[incoming|outgoing].&lt;channel name&gt;.connector = &lt;connector name&gt;</code></p>
</div>
<div class="paragraph">
<p>Optionally, for Kafka connector, you can define the Kafka topic to be used for that channel using the following form:</p>
</div>
<div class="paragraph">
<p><code>mp.messaging.[incoming|outgoing].&lt;channel name&gt;.topic = &lt;topic name&gt;</code></p>
</div>
<div class="paragraph">
<p>You can also set up a channel property using the following form:</p>
</div>
<div class="paragraph">
<p><code>mp.messaging.[incoming|outgoing].&lt;channel name&gt;.&lt;property name&gt;= &lt;property value&gt;</code></p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
If the defined property is not found, then the topic name is considered to be the same as Kafka name.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The IBM BAMOE process event add-on defines a channel for each event type, such as <code>kogito-processinstances-events</code>, <code>kogito-usertaskinstances-events</code>, and <code>kogito-variables-events</code>. Therefore, when the process event add-on is enabled, you must add the event types to your <code>application.properties</code> file using the following properties:</p>
</div>
<div class="listingblock">
<div class="title">Properties to define event types in <code>application.properties</code> file</div>
<div class="content">
<pre class="highlight"><code>mp.messaging.outgoing.kogito-processinstances-events.connector=smallrye-kafka
mp.messaging.outgoing.kogito-processinstances-events.topic=kogito-processinstances-events
mp.messaging.outgoing.kogito-processinstances-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer

mp.messaging.outgoing.kogito-usertaskinstances-events.connector=smallrye-kafka
mp.messaging.outgoing.kogito-usertaskinstances-events.topic=kogito-usertaskinstances-events
mp.messaging.outgoing.kogito-usertaskinstances-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer

mp.messaging.outgoing.kogito-variables-events.connector=smallrye-kafka
mp.messaging.outgoing.kogito-variables-events.topic=kogito-variables-events
mp.messaging.outgoing.kogito-variables-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer</code></pre>
</div>
</div>
<div class="paragraph">
<p>Additionally, you can disable the publishing on any channel by setting the related property to false as shown in the following example:</p>
</div>
<div class="listingblock">
<div class="title">Example properties to disable publishing</div>
<div class="content">
<pre class="highlight"><code>kogito.events.usertasks.enabled=false
kogito.events.variables.enabled=false</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="source-files-add-on">Source files add-on</h3>
<div class="paragraph">
<p>The IBM BAMOE Source Files Add-on adds the capability of listing and downloading source files to <em>Business Service</em> projects.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><strong>⚠️</strong>
This add-on is not supposed to be used by end-users, if not needed for internal integrations, since it can be a potential security breach for some users' use cases.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>To add the endpoints to download your services' source files, you can add the source files add-on as a dependency in your <code>pom.xml</code> file.</p>
</div>
<div class="listingblock">
<div class="title">Project dependency to enable source files endpoints</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-addons-quarkus-source-files&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Access to all the endpoints is granted to the role <code>source-files-client</code>.
To define basic authentication, you can add the following code to your <code>application.properties</code> file:</p>
</div>
<div class="listingblock">
<div class="title">Example of credentials for the user <code>scott</code> and password <code>jb0ss</code></div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">quarkus.security.users.embedded.enabled=true
quarkus.security.users.embedded.plain-text=true
quarkus.security.users.embedded.users.scott=jb0ss
quarkus.security.users.embedded.roles.scott=source-files-client</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also disable plain-text passwords by setting the <code>quarkus.security.users.embedded.plain-text</code> property to
<code>false</code> or just removing it from the configuration. In this case, the passwords are encrypted using MD5.</p>
</div>
<div class="listingblock">
<div class="title">Example of credentials for the user <code>scott</code> and password <code>jb0ss</code> encrypted using MD5</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">quarkus.security.users.embedded.enabled=true
quarkus.security.users.embedded.users.scott=4960d03c13b5aff4ca6886758a8be019
quarkus.security.users.embedded.roles.scott=source-files-client</code></pre>
</div>
</div>
<div class="paragraph">
<p>To define a more robust authentication mechanism, you can refer to the <a href="https://quarkus.io/version/3.20/guides/security">Quarkus documentation</a>.</p>
</div>
<div class="paragraph">
<p>The Source Files Add-on provides REST support for the following operation:</p>
</div>
<div class="sect3">
<h4 id="_list_all_the_source_files_for_the_specified_process">List all the source files for the specified process</h4>
<div class="ulist">
<ul>
<li>
<p>GET: <code>/management/processes/{processId}/sources</code></p>
<div class="ulist">
<ul>
<li>
<p>parameters:</p>
<div class="ulist">
<ul>
<li>
<p>processId: process identifier</p>
</li>
</ul>
</div>
</li>
<li>
<p>output:</p>
<div class="ulist">
<ul>
<li>
<p>JSON with related source files URIs</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Example: to list the source files for the process with id <code>petstore_http</code>, you can use the following command:</div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ curl -X 'GET' \
  'http://localhost:8080/management/processes/petstore_http/sources' \
  -H 'accept: application/json' \
  -H 'Authorization: Basic c2NvdHQ6amIwc3M='</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Output</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">[
  {
    "uri": "https://raw.githubusercontent.com/OAI/OpenAPI-Specification/main/examples/v2.0/json/petstore-simple.json"
  },
  {
    "uri": "/sources/org/kie/kogito/examples/petstore_http.sw.json"
  }
]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_download_the_specified_source_file">Download the specified source file</h4>
<div class="ulist">
<ul>
<li>
<p>GET: <code>/management/processes/{processId}/source</code></p>
<div class="ulist">
<ul>
<li>
<p>parameters:</p>
<div class="ulist">
<ul>
<li>
<p>processId: process identifier</p>
</li>
</ul>
</div>
</li>
<li>
<p>output:</p>
<div class="ulist">
<ul>
<li>
<p>Source file content used by the editor</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Example: to list the source file for the process with id <code>petstore_http</code>, you can use the following command:</div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ curl -X 'GET' \
  'http://localhost:8080/management/processes/petstore_http/source' \
  -H 'accept: application/json' \
  -H 'Authorization: Basic c2NvdHQ6amIwc3M='</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Output</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "id": "petstore_http",
  "version": "1.0",
  "name": "Send CloudEvent after creating Pluto",
  "start": "AddPluto",
  "functions": [
    {
      "name": "addPet",
      "operation": "https://raw.githubusercontent.com/OAI/OpenAPI-Specification/main/examples/v2.0/json/petstore-simple.json#addPet"
    }
  ],
  "states": [
    {
      "name": "AddPluto",
      "type": "operation",
      "actions": [
        {
          "functionRef": {
            "refName": "addPet",
            "parameters": {
              "body": {
                "name": "Pluto"
              }
            }
          }
        }
      ],
      "end": true
    }
  ]
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: to download the source file located at <code>org/kie/kogito/examples/petstore_http.sw.json</code>, you can use the following command:</div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ curl -X 'GET' \
  'http://localhost:8080/sources?uri=org/kie/kogito/examples/petstore_http.sw.json' \
  -H 'accept: */*' \
  -H 'Authorization: Basic c2NvdHQ6amIwc3M='</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</body>
</html>